\section{Background and Related Work} \label{sec:relatedWorkHypoForm}
Our work integrates and builds up existing theories of statistical thinking in
cognitive psychology and statistics. We also situate hypothesis formalization in
the larger context of scientific discovery. 
% frameworks of scientific
% discovery, theories of sensemaking, statistical practices, and empirical studies
% of data analysts.

\subsection{Statistical Thinking} 
Statistical thinking and practice require differentiating between
\textit{domain} and \textit{statistical} questions. The American Statistical
Association (ASA), a professional body representing statisticians, recommends
that universities teach this fundamental principle in introductory courses (see
Goal 2 in~\cite{carver2016guidelines}). Similarly, researchers Wild and Pfannkuch emphasize the importance of
differentiating between and integrating statistical knowledge and context (or
domain) knowledge when thinking
statistically~\cite{pfannkuch1997statistical,pfannkuch2000statistical,wild1999statisticalThinking}.
They propose a four step model for operationalizing ideas (``inklings'') into
plans for collecting data, which are eventually statistically analyzed. In their
model, analysts must transform ``inklings'' into broad questions and then into
precise questions that are then finally turned into a plan for data collection
(see Figure 2 in~\cite{wild1999statisticalThinking}). Statistical and domain
knowledge inform all four stages. However, it is unknown what kinds of statistical and domain
knowledge are helpful, how they are used and weighed against each other, and
when certain kinds of knowledge are helpful to operationalize inklings. Our
work in defining hypothesis formalization provides more granular insight into Wild and Pfannkuch's
proposed model of operationalization and aims to answer when, how, and what
kinds of statistical and domain knowledge are used during statistical data
analysis. 

More recently, in \textit{Statistical
Rethinking}~\cite{mcelreath2020statistical}, McElreath proposes that
there are three key representational phases involved in data analysis:
conceptual hypotheses, causal models underlying hypotheses (which McElreath
calls ``process models''), and statistical models. McElreath, like the ASA and
Wild and Pfannkuch, separates domain and statistical ideas and discusses the use
of causal models as an intermediate representation to connect
the two. McElreath emphasizes that conceptual hypotheses may correspond to
multiple causal and statistical models, and that the same statistical
model may provide evidence for multiple, even contradictory, causal models and
hypotheses. McElreath's framework does not directly address how analysts navigate
these relationships or how computation plays a role, both of which we take up in
this chapter. 

Overall, our work provides empirical evidence for prior frameworks but also (i)
provides more granular insight into \textit{how} and \textit{why} transitions between
representations occur and (ii) scrutinizes the role of
\textit{software and computation} through close observation of analyst workflows
in the lab as well as through a follow-up analysis of statistical software. Based on
these observations, we also speculate on how tools might better support hypothesis
formalization.

\subsection{Statistical Data Analysis as Part of Scientific Discovery}
Klahr and Simon characterized scientific discovery as a dual-search process
involving the development and evaluation of hypotheses and
experiments~\cite{klahr1988dual}. They posited that scientific discovery
involved tasks specific to hypotheses (e.g., revising hypotheses) and to
experiments (e.g., analyzing data collected from experiments), which they
separated into two different ``spaces,'' and tasks moving between them, which is
where we place hypothesis formalization. Extending Klahr and Simon's two-space
model, Schunn and Klahr proposed a more granular four-space model involving data
representation, hypothesis, paradigm, and experiment
spaces~\cite{schunn1995FourSpace,schunn1996BeyondTwoSpace}. In the four-space
model, conceptual hypothesizing still lies in the hypothesis space, and
hypothesis testing and statistical modeling lies in the paradigm space. As such,
hypothesis formalization is a process connecting the hypothesis and paradigm
spaces. In Schunn and Klahr's four-space model, information flows
unidirectionally from the hypothesis space to the paradigm space. We extend this
prior research with evidence that the path from hypothesis and paradigm spaces
is actually bidirectional (see~\autoref{figure:hypoFormOverview}).

Figure~\ref{figure:priorWork} augments Schunn and Klahr's
original diagram (Figure 1 in~\cite{schunn1995FourSpace}) with
annotations depicting how our content analysis of research papers and lab study
triangulate a tighter dual-space search between hypothesis and
paradigm spaces with a focus on hypothesis formalization. Our mixed-methods
approach follows the precedent and recommendations of Klahr and
Simon's~\cite{klahr1999studies} study of scientific discovery activities.

% Klahr and Simon characterized scientific discovery as a dual-search process
% involving the development and evaluation of hypotheses and
% experiments~\cite{klahr1988dual}. They posited that scientific
% discovery involved tasks specific to hypotheses (e.g., revising hypotheses) and
% to experiments (e.g., analyzing data collected from experiments), which they
% separated into two different ``spaces,'' and tasks moving between them, which is
% where we place hypothesis formalization.

% exploratory data analysis would be an
% activity that impacts how analysts view, or represent, their data mentally, and
% Extending Klahr and Simon's two-space model, Schunn and Klahr proposed a more
% granular four-space model involving data representation, hypothesis, paradigm,
% and experiment spaces~\cite{schunn1995FourSpace,schunn1996BeyondTwoSpace}. In the four-space model, conceptual hypothesizing still lies in the
% hypothesis space, and hypothesis testing and statistical modeling lies in the
% paradigm space. As such, hypothesis formalization is a process connecting
% the hypothesis and paradigm spaces. In Schunn and Klahr's four-space model,
% information flows unidirectionally from the hypothesis space to the paradigm space.
% Here we extend this prior research with
% evidence that hypothesis formalization involves both
% concept-to-implementation and implementation-to-concept processes. (see
% Figure~\ref{figure:overview}).
%  Therefore, we not only draw upon but also extend prior research on scientific discovery.
% \figureMethods 

% using multiple methods. 

\figurePriorWorkCombined

\begin{comment}
\subsection{Theories of Sensemaking}
Human beings engage in \textit{sensemaking} to acquire new knowledge. Several
theories of
sensemaking~\cite{pirolli2005sensemaking,russell1993cost,klein2007dataFrame}
describe how and when human beings seek and integrate new data (e.g.,
observations, experiences, etc.) to develop their mental models about the world.

Russell et al.~\cite{russell1993cost} emphasize the importance of building up
and evaluating external representations of mental models, and define sensemaking
as ``the process of searching for a representation and encoding data in that
representation to answer task-specific questions.'' External representations are
critical because they influence the quality of conclusions reached at the end of
the sensemaking process and affect how much time and effort is required in the process. Some representations
may lead to insights more quickly. Russell et al. describe the iterative
process of searching for and refining external representations in a ``learning
loop complex'' that involves transitioning back and forth between (i) searching
for and (ii) instantiating representations. 
 
Grolemund and Wickham argued for statistical data analysis as a sensemaking
activity~\cite{grolemund2014cognitive}. They emphasize the (1)
bidirectional nature of updating mental models of the world and hypotheses based
on data and collecting data based on hypotheses and (2) the process of
identifying and reconciling discrepancies between hypotheses and data. Their
depiction of the analysis process parallels Klahr and Simon's framework of
scientific discovery.

and proposed a theory of data
analysis that includes a back and forth between an analyst's ``schema'' of how a
phenomenon occurs in the world, a statistical model, and data. Similar to
Russell et al., Grolemund and Wickham's model demonstrates the importance of
representing and re-representing conceptual knowledge in schema and statistical
models that are updated with more data. Analysts' domain expertise influence
their schemas, which represent conceptual knowledge about known and unknown
causal mechanisms, for example. Analysts' conceptual schema directly inform
their hypotheses, which are statistical predictions represented in statistical
models. These statistical models are then compared to collected data, and any
discrepancies between the data and hypothesis require analysts to re-examine and
possibly update their statistical model, schema, or both. 

In this paper, we consider hypothesis formalization to be a learning loop~\cite{russell1993cost} where
the conceptual hypothesis is an external representation of a set of assumptions
analysts may have about the world (e.g., an implicit causal model), that ultimately
affects which models are specified and which results are
obtained. We found that that there are smaller learning loops as analysts search
for and revise intermediate representations, such as explicit causal models,
mathematical equations, or partially specified models. The
hypothesis and model refinement loops can themselves be smaller learning loops
embedded in the larger loop of hypothesis formalization. 

Extending Grolemund and Wickham's model, our work on
 hypothesis formalization differentiates between conceptual and statistical
 hypotheses and probes the phases an analyst must go through to encode a
 conceptual hypothesis into a statistical model.

In summary, our work differs in (i) scope and (ii) method from prior work in HCI
on data analysis practices. Whereas hypothesis formalization has remained
implicit in prior descriptions of data analysis, we explicate
this specific process. While previous researchers have relied primarily on
post-analysis interviews with analysts, our lab study (\autoref{sec:labStudyHypoForm}) enables us to observe
decision making during hypothesis formalization in-situ.
\end{comment}