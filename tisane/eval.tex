\subsection{Initial evaluation: Case studies with researchers}\label{sec:tisane_case_studies}
Given Tisane's novel focus on deriving and
guiding analysts toward valid statistical models, we assessed how Tisane affects
data analysis practices in three case studies with researchers. The following research questions guided
the evaluation:
\begin{itemize}
    \item \rqWorkflow How does Tisane's programming and interaction model
    affect how analysts author models? Specifically, what does Tisane make
    noticeably easier or more difficult when conducting an analysis?
    %Where do researchers find themselves spending more time or attention
    %compared to without Tisane? % What are you doing? not doing?
    \item \rqCognitive Where do researchers report spending more
    time or attention when using Tisane? How does this compare to their
    fixation during analyses typically?
    \item \rqFuture When do researchers imagine using Tisane
    in future projects, if at all? What additional support do researchers want
    from Tisane? 
\end{itemize}

We recruited researchers through internal message boards and individual
contacts. We intentionally recruited researchers at different stages of the
research process---study planning, data analysis for publication, and ongoing
model building and maintenance. We believed this could help us more holistically
evaluate Tisane's impact on data analysis. We met with researchers over Zoom
(R1, R3) and in person (R2) to discuss their use cases, observe them use
Tisane for the first time, and ask for open-ended feedback. We pointed researchers to the Tisane tutorial for
installation instructions and examples but otherwise encouraged the researchers
to work independently. We answered any questions researchers had while using Tisane.
Each study session lasted approximately 2 hours. At the end, two of the three
researchers (R1, R3) said they planned to use Tisane again over the next two months.

\subsection{Case Study 1: Planning a new study}
R1, a clinical psychology PhD student, had recently submitted a paper and was
planning a follow-up.
% to ask based on knowing how to author models she
% understood conceptually but had low confidence specifying correctly on her
% own.
R1 reported that she had never taken a formal class on modeling techniques but
taught herself for her last paper. Her general workflow involved consulting with
and mirroring what others in her research group did even if she did not
completely understand why. R1 did not program often but said she had ``enough
coding experience to understand this kind of...[sample program].'' Although
familiar with Python, R1 preferred M+~\cite{mplus} and SPSS~\cite{spss}. She was
interested in using Tisane to brainstorm new studies and research questions.

\textit{Using Tisane.} After installation, R1 read through one of the
computational notebook examples available in the Tisane GitHub repository.
While reading, R1 asked clarifying questions about the variable types and
syntax. R1 explained that the \texttt{Design} class felt novel because she had
never seen the concept of a study design in data analysis code before. When the
first two authors explained that it was supposed to be the equivalent of the
statement of a study design in a paper, R1 remarked that usually, she ``[kept]
that in [her] head, which [she] probably shouldn't'' (\rqCognitive). Without
a concrete data set, R1 preferred to walk through more examples %and discuss how
%their Tisane program would differ
rather than author a script of her own.

While reading an example, R1 drew a parallel between the tabs in SPSS dialogs for specifying models and
the tabs in the Tisane GUI, noting that SPSS had a tab for control variables.
R1 also wanted the ability to distinguish between ``control
variables'' and other independent variables in the Tisane GUI. R1 explained that this
would map more closely to how psychologists think about analyses.
Future work could incorporate additional language constructs, such as
a new data type for controls, for different groups of users (\rqFuture).
% This feedback
% suggests that future work could examine additional language constructs, such as
% a new data type for controls, would be helpful for different groups of users (\rqFuture).

\begin{comment}
R1 explained how in the past, she had run a series of tests only to learn later
that she should have been using GLMs. Even when she constructed the GLMs, %linear models,
she expressed uncertainty about her choice of family function: ``I don't know
[what] I was exactly picking...like Poisson regression or whatever.''
% ...I honestly, admittedly did not really look into which I should have been picking...but I just had one of [a colleague's] previous students [say],
R1 explained that she was given little guidance on choosing a model; another
student just told her, ```This is what I did. So you should just do that.''' In
contrast, R1 really liked having the normality checks and data histograms
available in the Tisane GUI to be more aware of the data (\rqCognitive).
\end{comment}

At the end of the study session, R1 remarked how Tisane ``fills in a lot of
the...gaps'' in data analysis (\rqWorkflow, \rqCognitive). The first gap R1
discussed was the \emph{programming gap} between scientists and statistical
tools. R1 believed that, for scientists who were not comfortable with
programming, ``they should probably be running less complex models, or first
learn how to code'' even if the complex models would be most appropriate. The
second gap R1 discussed was the \emph{statistical knowledge gap} in tools. R1 explained that
in her experience, R provides support for more complex models but little
guidance for what those models or statistical tests should be, requiring ``top
down assumption[s].'' Thus, to R1, Tisane bridged the gap between tools like
SPSS and R by requiring minimal programming and providing modeling support. Put
another way, Tisane bridged the gulf of execution~\cite{norman2013doet} for R1
that previous tools had not.
% conflation of programmign and analysis skills, making it easier for people to
% author models who may not be programmers yet need to for their work/research

% R1
% mentioned that in clinical psychology, it is often not possible to find causal
% relationships, and was more interested in finding novel correlations in the data.
% R1 was at the planning stage of data analysis, and was


\subsection{Case Study 2: Analyzing data for a paper submission}
% \textit{Analysis task.}
R2, a computer science PhD student, had conducted a within-subjects study where
47 participants used four versions of an app for one week each (four
weeks total). The motivating research question was how the different app designs
led to %levels of
psychological dissociation. % during usage.
% R2 had logged
% self-report survey responses, click behavior, and time spent in %on specific elements of
% the app.
Although R2 had expected to collect multiple survey responses for each
participant each day, they only had
aggregate daily self-report measures due to an error in the database management system.
% As a result, R2 was
% unsure about which models to use for the aggregated ordinal
% data. % and which models to use.
%Using lecture notes from a past statistics course,
In the past, R2 reported having extensively explored their data and
consulting others, but for this paper, they had not explored their data prior to
fitting models because they felt more confident in their modeling skills. For
analyses, R2 preferred R but had general Python programming experience. Prior
to using Tisane, R2 had authored linear mixed effects models in R for their
study. They were interested in using Tisane to check their analyses prior to
submitting their paper to CHI.


\def\numberofinstances{\texttt{number\_of\_instances}\xspace}


\textit{Using Tisane.} %R2
%wrote two scripts using Tisane over the course of two hours.
R2 wrote their scripts by adapting an
example from the Tisane GitHub repository.
% While authoring
% their scripts, R2 read the API documentation and examples closely and found
% \texttt{SetUp} variables novel but understandable.
% After a brief explanation, R2 specified date of study to be a \texttt{SetUp} variable.
As R2 considered which conceptual relationships to add, they reasoned aloud about
if they should state causal or associative relationships between various measures and dissociation (\rqCognitive). % R2 found stating conceptual relationships difficult, stating:
%On one hand, ``[a participant] taking [one of the recorded
%actions] [does not spark] dissociation for them,'' but on the other hand,
%``dissociation might be causing them to...take that action.'' 
After some
deliberation, they said, ``I don't feel comfortable [making a causal
statement],'' and instead specified \texttt{associates\_with} relationships.
R1's hesitation to assert causal relationships confirms prior findings that
specifying formal causal graphs is difficult for domain
researchers~\cite{suzuki2020causal,suzuki2018mechanisms,velentgas2013developing} and our design choice
to allow for association edges.
% ``Because...for instance, if people use like a dialog exit to leave an app, that doesn't...cause them to dissociation...them taking that action is not sparking dissociation for them, but...dissociation might be causing them to...take that action....I don't feel comfortable [making a causal statement]. We can just say it's associated.''
In addition, R2 was initially unsure about how to specify the
\numberofinstances for their measures since their original study design
was unbalanced. %Participants could have varying numbers of measures logged per day.
After asking for clarification about \numberofinstances,
R2 declared all the measures with the parameter
\numberofinstances set equal to \texttt{date}.
% Given that they had decided to aggregate measures for each day for each
% participant,
% R2 reasoned that they could specify the measures to repeat once for
% each day in the study by declaring all the measures with the parameter
% \numberofinstances set equal to \texttt{date}.

Next, R2 ran their script %from the terminal
and used the Tisane GUI in a browser window. Based on Tisane's recommended
family and link functions, R2 realized the models they had previously authored
in R using a Gaussian family were inappropriate. Due to a bug that we have since
fixed, Tisane suggested a Poisson family that R2 used to generate a script, but
this was an invalid choice given that not all dependent variable values were
nonnegative integers. R2 explored other family distributions and generated a new
script using an Inverse Gaussian family. When executed, the second output script
issued an error due to the model inference algorithm failing to converge.
R2 made a note to look into this model further on their own.

\begin{comment}
Based on Tisane's reported normality test
results, they realized they could not assume their data were normally
distributed and that using a linear mixed effects model was inappropriate.
Although exploratory data analysis (EDA) would have led to the same insight, R2
said they had skipped EDA. %visualizing
%their data
%before fitting models.
As such, Tisane could help researchers %like R2
familiarize themselves with data and return to EDA (\rqWorkflow, \rqCognitive).
Upon seeing the histogram of their data overlaid with simulated data, R2
initially picked the Poisson family and executed Tisane's output script, but R2
received a model fitting error because not all dependent variable values were
nonnegative integers. We have since implemented an additional check to ensure
that Poisson is a choice only when all dependent variable values are nonnegative
integers.
% (since they were averages). Realizing that a Poisson model was inappropriate,
R2 explored the other family distributions and generated a new script using an
Inverse Gaussian family. The new output script issued an error due to the model
inference algorithm failing to converge. R2 made a note
%in their R Markdown file
to look into Inverse Gaussian distributions. %The analyst experienced similar issues for their second dataset and script.
%In the past, R2 had tried every single model, even picking one they
%had never heard of before
\end{comment}

Once finished using Tisane, R2 commented that their analysis with Tisane was more streamlined (\rqWorkflow) in contrast
to their very first paper where they had tried ``every
single kind of model that [they] could'' until finding ``the one that fits best,''
%This is the one I'm gonna use.' And I had to explain why I was using it because it was like
even if it was ``one that no one would have heard of.''
R2 also stated they would be interested in using Tisane earlier
in their analysis process in the future (\rqFuture).
%In addition, they reported being more focused on ``<fill in.>`` %(\textit{cognitive impact}).
Based on their experience with Tisane, R2 questioned their previously authored linear mixed effects model, and said it was ``unnerving'' to
discover an issue so close to a deadline. At the same time, they expressed, ``if it's incorrect, I should know
before I submit.'' A day after the study, R2 contacted the authors to inform them that they had decided to
update their analyses from linear mixed effects models to generalized linear
mixed effects models. They reported using the Inverse
Gaussian family after visualizing and checking the distribution of residuals
with help from the output Tisane script. The Inverse Gaussian family was
appropriate because their dependent variable's values were all nonnegative and
displayed a slight positive skew.
% R2 was still in the process of re-analyzing
% their second dataset.
R2's experience with Tisane suggests that Tisane can help
researchers catch errors and lead them to re-examine their data, assumptions,
and conclusions.

\subsection{Case Study 3: Developing models to inform future models}
Employed on a research team, R3 analyzes health data at the county, state,
and national levels to estimate health expenditure and inform public policy. R3
develops initial models that are used to validate and generate estimates for
larger, more comprehensive models.
% using a minimal set of covariates that will not be included in the final models was a primary concern.
Due to the
scale of data and established collaborative workflows, R3 typically works in a
terminal or RStudio through a computing cluster and had very little experience
with Python. Despite working on statistical models every day, R3 described himself as
``not...a great modeler.''
% He also appeared to be the most experienced R user among the
% researchers in our pilot and case studies.
R3 was interested in using Tisane to
determine what variables to include as random effects in a model.
% He had a limited number of variables to include in his model.

\def\statename{\texttt{state\_name}\xspace}
\def\yearid{\texttt{year\_id}\xspace}
\def\cardinality{\texttt{cardinality}\xspace}

\textit{Using Tisane.} R3 used Tisane in a local Jupyter notebook as well as on
his team's cluster. R3 used the Tisane API overview reference material on GitHub
to start writing his program, which involved copying and pasting the functions
with their type signatures and then modifying them to match his dataset and
incrementally running the program. The most common mistake R3 made while
authoring his Tisane program was to refer to variables using the string names in
the dataset (e.g., \texttt{"year"}) instead of the variable's alias (e.g.,
\yearid), an idiom common in R but not in Python.

While authoring his Tisane program, R3 found the \numberofinstances parameter
redundant, especially because his data is always ``square.'' Every \statename\
in his data set had 30 rows of data, corresponding to the \yearid{}s 1990-2019.
This is in contrast to R2, whose study design was unbalanced and resulted in
variable numbers of observations per participant that needed to be aggregated. Based on R3's feedback, we
added functionality to infer \numberofinstances for each unit, which analysts can inspect by
printing the variable.

% that's a statistical lack of knowledge on my hand, the fact that it's not normal. I don't know what to do with it.
While giving open-ended feedback on Tisane, R3, similar to R1, liked how Tisane helped ``fill
[the] gap in...[his] knowledge'' (\rqCognitive). Given the diversity of models
R3 works with, R3 found Tisane's focus on GLMs and GLMMs a ``little limiting'' and also
wished to make Tisane ``run without...the mouse'' in a script, as is typical in
his workflow (\rqWorkflow). Specifically, R3 described how he and his
collaborators typically want to explore a space of models and run them in
parallel. Nevertheless, R3 foresaw using Tisane in three types of modeling tasks
common in his work: (i) exploratory modeling to determine if there are any
interesting relationships between variables, (ii) authoring and comparing
multiple models for prediction, and (iii) working out the precise model
specification after identifying variables of interest (\rqFuture).

\subsection{System changes and Takeaways}
%However, given that (i) violations to normality assumptions may be acceptable with large enough sample sizes, 

We fixed bugs and iterated on Tisane's GUI based on feedback from
researchers. The largest change we made was to the data distributions tab. The data distributions
tab we tested with researchers visualized the dependent variables
against simulated distributions of family functions and included the results of the Shapiro-Wilk and D'Agostino and Pearson's normality tests. All three researchers
reported becoming more aware of their data due to the visualizations. However, researchers' enthusiasm for the feature made us wary that visualizing the simulated data 
could mislead less careful analysts to believe that family and link functions pertain to variable
distributions rather than the distributions of the model's residuals. 
To avoid
such errors while still helping analysts become more aware of their data, we
removed the simulated visualizations and normality tests and instead provide questions about the semantic nature of the dependent variable
% data
collected, as discussed in~\autoref{sec:disambiguation}.

Overall, Tisane streamlines the analysis process (\rqWorkflow) in part because
researchers report formalizing their conceptual knowledge into statistical
models more directly (R1, R2). Although Tisane does not eliminate the need for
model revision, Tisane may scope the revisions analysts consider to significant
issues instead of details that may detract from the analysis goals (R2).
Additionally, researchers reported a perceived shift in their attention from
keeping track of and analyzing all possible modeling paths to their research
questions and data assumptions (\rqCognitive) while planning a new study and
analysis (R1) as well as while preparing a research manuscript (R2). Future adoption of
Tisane may depend on the complexity of analyses (\rqFuture) (R3). For instance, Tisane may provide a
streamlined alternative to false starts due to misspecifications for simpler
analyses (R1, R2, R3). For more complex models and studies, Tisane may act more as a
prototyping tool for statistical models, helping researchers start at a
reasonable model that they can then revise (R2, R3).
